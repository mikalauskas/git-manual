<!-- STATIC HEADER -->
[![logo](resources/logo.png)](../README.md)

<!-- STATIC HEADER -->
# Git Add
*[Назад к Содержанию](../README.md#инструкция-по-работе-с-git)*

Команда `git add` добавляет новые или измененные файлы из вашего рабочего каталога в промежуточную область Git.

`git add` — важная команда — без нее ни один `git commit` ничего не сделает. Иногда `git add` может иметь репутацию ненужного шага в разработке. Но на самом деле `git add` — важный и мощный инструмент. `git add` позволяет вам формировать историю, не меняя того, как вы работаете.

## В каких случаях использовать `git add`?

```sh
git add README.md
```

Во время работы вы изменяете и сохраняете файл или несколько файлов. Затем, перед коммитом, вы должны `git add`. Команда позволяет вам систематически формировать ваши коммиты и вашу историю.
 
## Что делает Git Add?

`git add [имя_файла]` выбирает этот файл и перемещает его в промежуточную область, помечая его для включения в следующий коммит. Вы можете выбрать все файлы, каталог, определенные файлы или даже определенные части файла для коммита.

Это означает, что если вы `git add (добавляете)` удаленный файл, *удаление* выполняется для коммита. Понятие `add (добавить)`, когда вы на самом деле `удаляете`, может сбить с толку.

`git add` и `git commit` идут рука об руку. Они не работают, когда они не используются вместе. И они оба работают лучше всего, когда используются с учетом их совместной функциональности.

## Как использовать `git add`

### Общие способы использования и параметры для `git add`

добавить определенный каталог или файл:

    $ git add <имя_файла>

добавить все файлы (которые не указаны в `.gitignore`) во всем репозитории:

    $ git add .

интерактивная стадия изменений:

    $ git add -p

Подробнее в [git-scm's документации](https://git-scm.com/docs/git-add).

## Примеры `git add`

`git add` обычно вписывается в рабочий процесс в следующих шагах:

1. Создать ветку (branch): `git branch update-readme`
2. Перейти в ветку: `git checkout update-readme`
3. Изменить файл или файлы
4. Добавьте файлы или сегменты кода, которые должны быть включены в следующем коммите: `git add README.md`
5. Закоммитеть изменения: `git commit -m "update the README to include links to contributing guide"`
6. Отправьте изменения в удаленную ветку (remote branch): `git push -u origin update-readme`
---
### `git add` Всех файлов

Коммит всех доступных файлов — популярная, хотя и рискованная операция. Это может сэкономить время, но риски двоякие:

#### Плохо продуманная история

Возможность формировать свою историю — одно из величайших преимуществ использования Git. Если ваши коммиты слишком велики, содержат несвязанные изменения или неясно описаны в сообщении коммита, вы потеряете преимущества просмотра и изменения истории.

#### Случайный коммит

Используя опцию добавления всех файлов одновременно, вы можете случайно создать и закоммитить файл. Любой файл, не указанный в файле `.gitignore`, будет закоммитен. Это относится к большим двоичным файлам и файлам, содержащим конфиденциальную информацию, такую ​​как пароли или токены аутентификации.

---
### `git add` Каталог или конкретный файл

Самый безопасный и понятный способ использования `git add` — указать конкретный файл или каталог для коммита:

`git add directory/`: внесение всех изменений во все файлы в каталоге с именем `directory`
`git add README.md`: внесение всех изменений в файл `README.md`

---
### Отмена добавленных файлов

Прежде чем отменять `git add`, вы должны сначала убедиться, что не потеряете никакой работы. Невозможно «отменить» добавление так же, как вы можете отменить коммит, но вы можете переместить файлы из промежуточной области.

Например, если у вас есть промежуточный файл, а затем вы вносите дополнительные изменения в этот файл в своем рабочем каталоге. Теперь версии в вашем рабочем каталоге и в промежуточной области различаются. Если вы предпримете меры по удалению измененной версии файла из промежуточной области, изменения, которые были в вашем рабочем каталоге, но не промежуточные, будут перезаписаны.

Чтобы избежать этого, сначала подготовьте все изменения, а затем удалите их вместе или закоммитьте изменения и сбросьте их обратно до того, как произошел коммит.

---
### Использование `git reset` для отмены `git add`

`git reset` гибкая и мощная команда. Одним из его многочисленных вариантов использования является перемещение изменений из промежуточной области. Для этого используйте «смешанный» уровень сброса, который установлен по умолчанию.

Чтобы переместить поэтапные изменения из промежуточной области в рабочий каталог, не затрагивая историю коммитов, сначала убедитесь, что у вас нет дополнительных изменений в рассматриваемых файлах, как указано выше. Затем введите `git reset HEAD` (он же `git reset --mixed HEAD`).

*[Назад к Содержанию](../README.md#инструкция-по-работе-с-git)*